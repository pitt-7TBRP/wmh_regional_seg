Segments the white matter hyperintensities and classify by regions.

Based on wmh_seg (https://github.com/jinghangli98/wmh_seg) and Freesurfer.

Citation for wmh_seg: 

```
Li, J., Santini, T., Huang, Y., Mettenburg, J. M., Ibrahim, T. S., Aizenstein, H. J., & Wu, M. (2024).
wmh_seg: Transformer based U-Net for Robust and Automatic White Matter Hyperintensity Segmentation across 1.5 T, 3T and 7T.
arXiv preprint arXiv:2402.12701.
```


Usage:

```
/usr/bin/wmh_regional_seg --t1w FILE --flair FILE [--no-full]

Required arguments:
  --t1w FILE         Path to the T1-weighted NIfTI image
  --flair FILE       Path to the FLAIR NIfTI image

Optional arguments:
  --no-full          Skip WMH_seg and FreeSurfer segmentation (useful for manually corrected segmentations)
  -h, --help         Show this help message
```

Example of usage with the test data:

`docker run -v $PWD:/data -w /data tsantini/wmh_seg:regions wmh_regional_seg --t1w sample_t1w.nii.gz --flair sample_flair.nii.gz`

All intermediate files generated by the pipeline are stored in `/tmp/wmh_regional_seg`.
The WMH segmentation itself is also copied back to the current directory for convenience.


<img width="360" height="323" alt="snapshot0001" src="https://github.com/user-attachments/assets/99c07a51-7d74-4fbd-84fc-53e3f392fbd0" />
<img width="360" height="323" alt="snapshot0002" src="https://github.com/user-attachments/assets/804ea4b2-626c-49a0-ace7-5a7d6713ef57" />
